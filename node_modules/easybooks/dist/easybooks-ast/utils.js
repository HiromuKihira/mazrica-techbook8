"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.traverse = async (node, visitors, root = node) => {
    const visitor = node.type in visitors ? visitors[node.type] : {};
    if (visitor.enter) {
        await visitor.enter(node, root);
    }
    if (node.children && Array.isArray(node.children)) {
        await Promise.all(node.children.map((child) => exports.traverse(child, visitors, root)));
    }
    if (visitor.leave) {
        await visitor.leave(node, root);
    }
};
//# sourceMappingURL=utils.js.map